(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{622:function(e,t,a){"use strict";a(84);var n=a(47),s=(a(111),a(40)),i=(a(112),a(27)),l=(a(52),a(10)),c=(a(624),a(632)),r=(a(110),a(68)),o=a(23),m=a(24),d=a(29),u=a(28),E=a(30),h=(a(627),a(0)),f=a.n(h),p=a(63),D=(a(200),a(21)),N=a(2),g=a.n(N),T=D.a.SubMenu,O=(D.a.ItemGroup,function(e){return function(t){var a=t.key.split("-")[1];e(a)}}),b=function(e){var t=e.data,a=e.handle;return f.a.createElement(D.a,{style:{width:158},mode:"inline",className:"formula-modal-field-list thin-scroll",onClick:O(a)},t&&t.map(function(e,t){return f.a.createElement(D.a.Item,{key:"item-\u672c\u8868\u5355."+e+"-"+t},e)}))},I=function(e){var t=e.data,a=e.handle;return f.a.createElement(D.a,{style:{width:158},mode:"inline",className:"formula-modal-field-list thin-scroll",onClick:O(a)},t&&t.map(function(e,t){return f.a.createElement(T,{key:"sub"+t,title:e.form},e.items.map(function(t,a){return f.a.createElement(D.a.Item,{key:"item-"+e.form+"."+t+"-"+a},t)}))}))},v=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(d.a)(this,Object(u.a)(t).call(this))).switchPanel=e.switchPanel.bind(Object(p.a)(Object(p.a)(e))),e.state={current:"1",fields:[],allFields:[],panel:"self"},e}return Object(E.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(g.a.get("/general/appbuilder/web/appdesign/appform/items",{formId:this.props.formulaData.formId,forms:""},function(t){"ok"===t.status&&e.setState({fields:t.data})}),""!==this.props.formulaData.forms){var t={formId:this.props.formulaData.formId,forms:this.props.formulaData.forms};void 0!=this.props.formulaData.just&&1==this.props.formulaData.just&&(t.just=!0),g.a.get("/general/appbuilder/web/appdesign/appform/items",t,function(t){"ok"===t.status&&e.setState({allFields:t.data})})}}},{key:"render",value:function(){var e=this;return f.a.createElement("div",{className:"formula-modal-field-wrap"},f.a.createElement("h3",{className:"formula-modal-body-title"},""===this.props.formulaData.forms?"\u672c\u8868\u5355":f.a.createElement("div",null,f.a.createElement("span",{onClick:function(){return e.switchPanel("self")}},"\u672c\u8868\u5355"),f.a.createElement("span",{onClick:function(){return e.switchPanel("others")},style:{float:"right"}},"\u5176\u5b83\u8868\u5355"))),""===this.props.formulaData.forms?f.a.createElement(b,{data:this.state.fields,handle:this.props.changeFormulaData}):f.a.createElement("div",null,"self"===this.state.panel?f.a.createElement(b,{data:this.state.fields,handle:this.props.changeFormulaData}):f.a.createElement(I,{data:this.state.allFields,handle:this.props.changeFormulaData})))}},{key:"switchPanel",value:function(e){this.setState({panel:e})}}]),t}(h.Component),S=function(e){function t(){return Object(o.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.setEditingBoard(this.refs.editingBoard)}},{key:"render",value:function(){var e=this;return f.a.createElement("div",null,f.a.createElement("h3",{className:"formula-modal-edit-title"},"\u516c\u5f0f\u7f16\u8f91"),f.a.createElement("textarea",{onChange:function(t){return e.props.setFormula(t.target.value)},rows:"3",className:"formula-edit-textarea thin-scroll",ref:"editingBoard",value:this.props.value}))}}]),t}(h.Component),R=(a(73),a(34)),A=(a(629),a(638)),k=[{sign:"+",title:"\u52a0\u53f7"},{sign:"-",title:"\u51cf\u53f7"},{sign:"*",title:"\u4e58\u53f7"},{sign:"/",title:"\u9664\u53f7"},{sign:"MOD",title:"\u53d6\u4f59"},{sign:"=",title:"\u7b49\u4e8e"},{sign:"(",title:"\u5de6\u62ec\u53f7"},{sign:")",title:"\u53f3\u62ec\u53f7"},{sign:"<",title:"\u5c0f\u4e8e"},{sign:">",title:"\u5927\u4e8e"},{sign:"<=",title:"\u5c0f\u4e8e\u6216\u7b49\u4e8e"},{sign:">=",title:"\u5927\u4e8e\u6216\u7b49\u4e8e"},{sign:"<>",title:"\u4e0d\u7b49\u4e8e"},{sign:"!",title:"\u975e"},{sign:"&&",title:"\u4e14"},{sign:"||",title:"\u6216"},{sign:"1",title:""},{sign:"2",title:""},{sign:"3",title:""},{sign:"4",title:""},{sign:"5",title:""},{sign:"6",title:""},{sign:"7",title:""},{sign:"8",title:""},{sign:"9",title:""},{sign:"0",title:""}],L={"\u7edf\u8ba1\u51fd\u6570":[{name:"COUNT()",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u8bb0\u5f55\u6570\u3002"},{name:"COUNT(<\u5b57\u6bb5\u540d>)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u6307\u5b9a\u5b57\u6bb5\u7684\u4e2a\u6570\u3002"},{name:"SUM(<\u6570\u503c\u578b\u6216\u8d27\u5e01\u578b\u5b57\u6bb5\u540d>)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u6570\u5b57\u578b\u6216\u8d27\u5e01\u578b\u5b57\u6bb5\u7684\u5408\u8ba1\u503c\u3002"},{name:"AVG(<\u6570\u503c\u578b\u6216\u8d27\u5e01\u578b\u5b57\u6bb5\u540d>)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u6570\u5b57\u578b\u6216\u8d27\u5e01\u578b\u5b57\u6bb5\u7684\u5e73\u5747\u503c\u3002"},{name:"MAX(<\u6570\u503c\u578b\u6216\u8d27\u5e01\u578b\u5b57\u6bb5\u540d>)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u6570\u5b57\u578b\u6216\u8d27\u5e01\u578b\u5b57\u6bb5\u7684\u6700\u5927\u503c\u3002"},{name:"MIN(<\u6570\u503c\u578b\u6216\u8d27\u5e01\u578b\u5b57\u6bb5\u540d>)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u6570\u5b57\u578b\u6216\u8d27\u5e01\u578b\u5b57\u6bb5\u7684\u6700\u5c0f\u503c\u3002"}],"\u6570\u636e\uff08\u542b\u8d27\u5e01\uff09\u51fd\u6570":[{name:"FLOOR(<\u6570\u503c\u8868\u8fbe\u5f0f>)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u4e0d\u8d85\u8fc7\u8868\u8fbe\u5f0f\u6570\u503c\u7684\u6700\u5927\u6574\u6570\u3002\t\t\t\t\u4f8b\u5982\uff1aFLOOR(125.2) \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a125"},{name:"ROUND(<\u6570\u503c\u8868\u8fbe\u5f0f>,\u6574\u6570)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u6307\u5b9a\u8868\u8fbe\u5f0f\u56db\u820d\u4e94\u5165\u5230\u6574\u6570\u90e8\u5206\u89c4\u5b9a\u4fdd\u7559\u7684\u5c0f\u6570\u70b9\u4f4d\u6570\u7684\u503c\u3002    \t\t\u4f8b\u5982\uff1aROUND(125.256,2) \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a125.26"},{name:"RAND()",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u968f\u673a\u6570\u3002"},{name:"ABS(<\u6570\u503c\u8868\u8fbe\u5f0f>)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u6570\u503c\u8868\u8fbe\u5f0f\u7684\u7edd\u5bf9\u503c\u3002    \t\t\u4f8b\u5982\uff1aABS(-125) \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a125"}],"\u65e5\u671f\u548c\u65f6\u95f4\u51fd\u6570":[{name:"YEAR(<\u65e5\u671f\u8868\u8fbe\u5f0f>)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u65e5\u671f\u8868\u8fbe\u5f0f\u7684\u5e74\u4efd\u503c\u3002    \t\t\u4f8b\u5982\uff1aYEAR(#2007.1.28#) \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a2007"},{name:"MONTH(<\u65e5\u671f\u8868\u8fbe\u5f0f>)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u65e5\u671f\u8868\u8fbe\u5f0f\u7684\u6708\u4efd\u503c\u3002    \t\t\u4f8b\u5982\uff1aMONTH(#2007.1.28#) \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a1"},{name:"DAY(<\u65e5\u671f\u8868\u8fbe\u5f0f>)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u65e5\u671f\u8868\u8fbe\u5f0f\u7684\u5929\u6570\u3002    \t\t\u4f8b\u5982\uff1aDAY(#2007.1.28#) \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a28"},{name:"QUARTER(<\u65e5\u671f\u8868\u8fbe\u5f0f>)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u65e5\u671f\u8868\u8fbe\u5f0f\u7684\u5b63\u5ea6\u6570\u3002    \t\t\u4f8b\u5982\uff1aQUARTER(#2007.1.28#) \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a1"},{name:"WEEK(<\u65e5\u671f\u8868\u8fbe\u5f0f>)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u65e5\u671f\u8868\u8fbe\u5f0f\u7684\u661f\u671f\u6570\u3002    \t\t\u4f8b\u5982\uff1aWEEK(#2007.1.28#) \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a4"},{name:"HOUR(<\u65e5\u671f\u8868\u8fbe\u5f0f>)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u65e5\u671f\u8868\u8fbe\u5f0f\u7684\u5c0f\u65f6\u6570\u3002    \t\t\u4f8b\u5982\uff1aHOUR(#2007.1.28 09:59:42#) \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a9"},{name:"MINUTE(<\u65e5\u671f\u8868\u8fbe\u5f0f>)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u65e5\u671f\u8868\u8fbe\u5f0f\u7684\u5206\u949f\u6570\u3002    \t\t\u4f8b\u5982\uff1aMINUTE(#2007.1.28 09:59:42#) \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a59"},{name:"SECOND(<\u65e5\u671f\u8868\u8fbe\u5f0f>)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u65e5\u671f\u8868\u8fbe\u5f0f\u7684\u79d2\u6570\u3002    \t\t\u4f8b\u5982\uff1aSECOND(#2007.1.28 09:59:42#) \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a42"},{name:"THISDATE",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u5f53\u524d\u65e5\u671f\u3002"},{name:"YEARBETWEEN(<\u65e5\u671f\u8868\u8fbe\u5f0f1>,<\u65e5\u671f\u8868\u8fbe\u5f0f2>)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u65e5\u671f\u8868\u8fbe\u5f0f1\u5230\u65e5\u671f\u8868\u8fbe\u5f0f2\u7684\u5e74\u4efd\u3002    \t\t\u4f8b\u5982\uff1aYEARBETWEEN(#2005.07.03#,#2007.07.28#) \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a2"},{name:"MONTHBETWEEN(<\u65e5\u671f\u8868\u8fbe\u5f0f1>,<\u65e5\u671f\u8868\u8fbe\u5f0f2>)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u65e5\u671f\u8868\u8fbe\u5f0f1\u5230\u65e5\u671f\u8868\u8fbe\u5f0f2\u7684\u6708\u4efd\u3002    \t\t\u4f8b\u5982\uff1aMONTHBETWEEN(#2007.01.28#,#2007.07.28#) \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a6"},{name:"DAYBETWEEN(<\u65e5\u671f\u8868\u8fbe\u5f0f1>,<\u65e5\u671f\u8868\u8fbe\u5f0f2>)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u65e5\u671f\u8868\u8fbe\u5f0f1\u5230\u65e5\u671f\u8868\u8fbe\u5f0f2\u7684\u5929\u6570\u3002    \t\t\u4f8b\u5982\uff1aDAYBETWEEN(#2007.01.03#,#2007.01.28#) \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a25"},{name:"QUARTERBETWEEN(<\u65e5\u671f\u8868\u8fbe\u5f0f1>,<\u65e5\u671f\u8868\u8fbe\u5f0f2>)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u65e5\u671f\u8868\u8fbe\u5f0f1\u5230\u65e5\u671f\u8868\u8fbe\u5f0f2\u7684\u5b63\u5ea6\u6570\u3002    \t\t\u4f8b\u5982\uff1aQUARTERBETWEEN(#2007.01.03#,#2007.07.28#) \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a2"},{name:"WEEKBETWEEN(<\u65e5\u671f\u8868\u8fbe\u5f0f1>,<\u65e5\u671f\u8868\u8fbe\u5f0f2>)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u65e5\u671f\u8868\u8fbe\u5f0f1\u5230\u65e5\u671f\u8868\u8fbe\u5f0f2\u7684\u5468\u6570\u3002    \t\t\u4f8b\u5982\uff1aWEEKBETWEEN(#2007.01.03#,#2007.01.28#) \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a4"},{name:"HOURBETWEEN(<\u65e5\u671f\u8868\u8fbe\u5f0f1>,<\u65e5\u671f\u8868\u8fbe\u5f0f2>)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u65e5\u671f\u8868\u8fbe\u5f0f1\u5230\u65e5\u671f\u8868\u8fbe\u5f0f2\u7684\u5c0f\u65f6\u6570\u3002    \t\t\u4f8b\u5982\uff1aHOURBETWEEN(#2007.01.03 09:59:42#,#2007.01.03 10:59:42#) \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a1"},{name:"MINUTEBETWEEN(<\u65e5\u671f\u8868\u8fbe\u5f0f1>,<\u65e5\u671f\u8868\u8fbe\u5f0f2>)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u65e5\u671f\u8868\u8fbe\u5f0f1\u5230\u65e5\u671f\u8868\u8fbe\u5f0f2\u7684\u5206\u949f\u6570\u3002    \t\t\u4f8b\u5982\uff1aMINUTEBETWEEN(#2007.01.03 09:59:42#,#2007.01.03 10:59:42#) \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a60"},{name:"SECONDBETWEEN(<\u65e5\u671f\u8868\u8fbe\u5f0f1>,<\u65e5\u671f\u8868\u8fbe\u5f0f2>)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u65e5\u671f\u8868\u8fbe\u5f0f1\u5230\u65e5\u671f\u8868\u8fbe\u5f0f2\u7684\u79d2\u6570\u3002    \t\t\u4f8b\u5982\uff1aSECONDBETWEEN(#2007.01.03 09:59:42#,#2007.01.03 10:59:42#) \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a3600"},{name:"ADDYEAR(<\u65e5\u671f\u8868\u8fbe\u5f0f>,\u6574\u6570)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u65e5\u671f\u8868\u8fbe\u5f0f\u589e\u52a0\u6307\u5b9a\u5e74\u6570\u540e\u7684\u65e5\u671f\u503c\u3002    \t\t\u4f8b\u5982\uff1aADDYEAR(#2005.07.03#,2) \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a#2007.07.03#"},{name:"ADDMONTH(<\u65e5\u671f\u8868\u8fbe\u5f0f>,\u6574\u6570)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u65e5\u671f\u8868\u8fbe\u5f0f\u589e\u52a0\u6307\u5b9a\u6708\u6570\u540e\u7684\u65e5\u671f\u503c\u3002    \t\t\u4f8b\u5982\uff1aADDMONTH(#2007.07.03#,2) \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a#2007.09.03#"},{name:"ADDDAY(<\u65e5\u671f\u8868\u8fbe\u5f0f>,\u6574\u6570)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u65e5\u671f\u8868\u8fbe\u5f0f\u589e\u52a0\u6307\u5b9a\u5929\u6570\u540e\u7684\u65e5\u671f\u503c\u3002    \t\t\u4f8b\u5982\uff1aADDDAY(#2005.07.03#,2) \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a#2005.07.05#"},{name:"ADDQUARTER(<\u65e5\u671f\u8868\u8fbe\u5f0f>,\u6574\u6570)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u65e5\u671f\u8868\u8fbe\u5f0f\u589e\u52a0\u6307\u5b9a\u5b63\u5ea6\u6570\u540e\u7684\u65e5\u671f\u503c\u3002    \t\t\u4f8b\u5982\uff1aADDQUARTER(#2007.01.03#,2) \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a#2007.07.03#"},{name:"ADDWEEK(<\u65e5\u671f\u8868\u8fbe\u5f0f>,\u6574\u6570)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u65e5\u671f\u8868\u8fbe\u5f0f\u589e\u52a0\u6307\u5b9a\u5468\u6570\u540e\u7684\u65e5\u671f\u503c\u3002    \t\t\u4f8b\u5982\uff1aADDWEEK(#2007.01.03#,3) \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a#2007.01.24#"},{name:"ADDHOUR(<\u65e5\u671f\u8868\u8fbe\u5f0f>,\u6574\u6570)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u65e5\u671f\u8868\u8fbe\u5f0f\u589e\u52a0\u6307\u5b9a\u5c0f\u65f6\u6570\u540e\u7684\u65e5\u671f\u503c\u3002    \t\t\u4f8b\u5982\uff1aADDHOUR(#09:59:42#,1) \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a#10:59:42#"},{name:"ADDMINUTE(<\u65e5\u671f\u8868\u8fbe\u5f0f>,\u6574\u6570)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u65e5\u671f\u8868\u8fbe\u5f0f\u589e\u52a0\u6307\u5b9a\u5206\u6570\u540e\u7684\u65e5\u671f\u503c\u3002    \t\t\u4f8b\u5982\uff1aADDMINUTE(#09:59:42#,1) \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a#10:00:42#"},{name:"ADDSECOND(<\u65e5\u671f\u8868\u8fbe\u5f0f>,\u6574\u6570)",desc:"\u6b64\u51fd\u6570\u8fd4\u56de\u65e5\u671f\u8868\u8fbe\u5f0f\u589e\u52a0\u6307\u5b9a\u79d2\u6570\u540e\u7684\u65e5\u671f\u503c\u3002    \t\t\u4f8b\u5982\uff1aADDSECOND(#09:59:42#,1) \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a#09:59:43#"}],"\u5b57\u7b26\u4e32\u51fd\u6570":[{name:"CONCAT(<\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f1>,<\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f2>,...,<\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0fn>)",desc:'\u6b64\u51fd\u6570\u8fde\u63a5\u4e24\u4e2a\u5b57\u7b26\u4e32\u3002    \t\t\u4f8b\u5982\uff1aCONCAT("abc","def") \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a"abcdef"'},{name:"TRIM(<\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f>)",desc:'\u6b64\u51fd\u6570\u622a\u53d6\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f\u5de6\u53f3\u4e24\u8fb9\u591a\u4f59\u7a7a\u683c\u3002    \t\t\u4f8b\u5982\uff1atrim("  abc  ") \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a"abc"'},{name:"LTRIM(<\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f>)",desc:'\u6b64\u51fd\u6570\u622a\u53d6\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f\u5de6\u8fb9\u591a\u4f59\u7a7a\u683c\u3002    \t\t\u4f8b\u5982\uff1aLTRIM("  abc  ") \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a"abc  "'},{name:"RTRIM(<\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f>)",desc:'\u6b64\u51fd\u6570\u622a\u53d6\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f\u53f3\u8fb9\u591a\u4f59\u7a7a\u683c\u3002    \t\t\u4f8b\u5982\uff1aRTRIM("  abc  ") \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a"  abc"'},{name:"SUBSTR(<\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f>,<\u8d77\u59cb\u4f4d>,<\u957f\u5ea6>)",desc:'\u6b64\u51fd\u6570\u8fd4\u56de\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f\u4ece[\u8d77\u59cb\u4f4d]\u5f00\u59cb\u5171[\u957f\u5ea6]\u4e2a\u5b57\u7b26\u7684\u5b50\u4e32\u3002    \t\t\u4f8b\u5982\uff1aSUBSTR("abcd", 2, 2) \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a"bc"'},{name:"STRLEN(<\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f>)",desc:'\u6b64\u51fd\u6570\u8fd4\u56de\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f\u6240\u5305\u542b\u7684\u5b57\u7b26\u4e2a\u6570\u3002    \t\t\u4f8b\u5982\uff1aSTRLEN("abcd\u4f60\u597d") \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a6'},{name:"LEFT(<\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f>,<\u957f\u5ea6>)",desc:'\u6b64\u51fd\u6570\u8fd4\u56de\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f\u5de6\u8fb9\u5f00\u59cb\u5171[\u957f\u5ea6]\u4e2a\u5b57\u7b26\u7684\u5b50\u4e32\u3002    \t\t\u4f8b\u5982\uff1aLEFT("abcd\u4f60\u597d", 5) \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a"abcd\u4f60"'},{name:"RIGHT(<\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f>,<\u957f\u5ea6>)",desc:'\u6b64\u51fd\u6570\u8fd4\u56de\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f\u53f3\u8fb9\u5f00\u59cb\u5171[\u957f\u5ea6]\u4e2a\u5b57\u7b26\u7684\u5b50\u4e32\u3002    \t\t\u4f8b\u5982\uff1aRIGHT("abcd\u4f60\u597d", 5) \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a"bcd\u4f60\u597d"'},{name:"STRPOS(<\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f1>,<\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f2>)",desc:'\u6b64\u51fd\u6570\u8fd4\u56de\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f1\u4e2d\u9996\u6b21\u51fa\u73b0\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f2\u7684\u4f4d\u7f6e\uff0c\u5b57\u7b26\u4f4d\u7f6e\u4ece1\u5f00\u59cb\u8ba1\u6570\uff0c\u672a\u641c\u7d22\u5230\u65f6\u8fd4\u56de0\u3002    \t\t\u4f8b\u5982\uff1aSTRPOS("abcd\u4f60\u597d", "bcd") \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a1'},{name:"REPLACE(<\u5f85\u641c\u7d22\u7684\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f>,<\u5f85\u67e5\u627e\u7684\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f>,<\u66ff\u6362\u7528\u7684\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f>)",desc:'\u6b64\u51fd\u6570\u8fd4\u56de\u7528\u66ff\u6362\u7528\u7684\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f\u66ff\u6362\u5f85\u641c\u7d22\u7684\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f\u4e2d\u51fa\u73b0\u7684\u6240\u6709\u5f85\u67e5\u627e\u7684\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f\u3002    \t\t\u4f8b\u5982\uff1aREPLACE("abcdefghicde","cde","xxx") \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1aabxxxfghixxx'},{name:"REG(<\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f>,<\u6b63\u5219\u8868\u8fbe\u5f0f>)",desc:'\u6b64\u51fd\u6570\u8fd4\u56de\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f\u662f\u5426\u6ee1\u8db3\u6b63\u5219\u8868\u8fbe\u5f0f\u89c4\u5219\uff0c\u6ee1\u8db3\u8fd4\u56de1\uff0c\u5426\u5219\u8fd4\u56de0\u3002    \t\t\u4f8b\u5982\uff1aREG("fo\no", "^fo\no$") \u8fd4\u56de\u7ed3\u679c\u4e3a\uff1a1'},{name:"PINYINQUANMA(<\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f>)",desc:'\u8fd4\u56de<\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f>\u5bf9\u5e94\u7684\u62fc\u97f3\u3002    \t\t\u4f8b\u5982\uff1aPINYINQUANMA("\u4e2d\u56fd")\uff0c\u8fd4\u56de\u7ed3\u679c\u4e3a\uff1azhongguo'},{name:"PINYINJIANMA(<\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f>)",desc:'\u8fd4\u56de<\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f>\u5bf9\u5e94\u7684\u62fc\u97f3\u7b80\u79f0\u3002    \t\t\u4f8b\u5982\uff1aPINYINJIANMA("\u4e2d\u56fd")\uff0c\u8fd4\u56de\u7ed3\u679c\u4e3a\uff1azg'}],"\u96c6\u5408\u51fd\u6570":[{name:"SET(<\u8868\u8fbe\u5f0f1>,<\u8868\u8fbe\u5f0f2>,<\u8868\u8fbe\u5f0f3>)",desc:'\u4f8b\u5982\uff1aSET(1,2,3,4)\uff0cSET("abc","cde","efg"\uff09'}],"\u8f6c\u6362\u51fd\u6570":[{name:"STRTODATETIME(<\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f>)",desc:"\u5b57\u7b26\u8f6c\u65e5\u671f\u3002"},{name:"STRTOFLOAT(<\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f>)",desc:"\u5b57\u7b26\u8f6c\u6570\u503c\u3002"},{name:"FLOATTOSTR(<\u6570\u503c\u8868\u8fbe\u5f0f>)",desc:"\u6570\u503c\u8f6c\u5b57\u7b26\u3002"},{name:"FLOATTODATETIME(<\u6570\u503c\u8868\u8fbe\u5f0f>)",desc:"\u6570\u503c\u8f6c\u65e5\u671f\u3002"},{name:"DATETIMETOSTR(<\u65e5\u671f\u8868\u8fbe\u5f0f>)",desc:"\u65e5\u671f\u8f6c\u5b57\u7b26\u3002"}],"\u7c7b\u578b\u4e0d\u5b9a\u51fd\u6570":[{name:"IF THEN [ELSE] END",desc:'\u4f8b\u5982\uff1aIF \u5546\u54c1="\u725b\u5976" THEN 0.02 ELSE 0.1 END'},{name:"CASE IF cexpr1 THEN expr1 IF cexpr2 THEN expr2 [ELSE exprn] END",desc:'\u4f8b\u5982\uff1aCASE IF \u5546\u54c1="\u725b\u5976" THEN 0.02                 IF \u5546\u54c1="\u9762\u5305" THEN 0.015                 IF \u5546\u54c1="\u5496\u5561" THEN 0.15                 ELSE 0.1 END'},{name:"GREATER(\u8868\u8fbe\u5f0f1,\u8868\u8fbe\u5f0f2)",desc:"\u8fd4\u56de\u4e24\u8005\u4e2d\u8f83\u5927\u8005"},{name:"LESS(\u8868\u8fbe\u5f0f1,\u8868\u8fbe\u5f0f2)",desc:"\u8fd4\u56de\u4e24\u8005\u4e2d\u8f83\u5c0f\u8005"}],"\u7cfb\u7edf\u51fd\u6570":[{name:"LOGIN_UNIT",desc:"\u5f53\u524d\u5355\u4f4d"},{name:"LOGIN_USER",desc:"\u5f53\u524d\u7528\u6237"},{name:"LOGIN_DEPT",desc:"\u5f53\u524d\u90e8\u95e8"},{name:"LOGIN_PRIV",desc:"\u5f53\u524d\u89d2\u8272"},{name:"WRITE_DEPT",desc:"\u5236\u5355\u90e8\u95e8"},{name:"WRITER",desc:"\u5236\u5355\u4eba"},{name:"WRITE_TIME",desc:"\u5236\u5355\u65f6\u95f4"},{name:"SYSDATE",desc:"\u7cfb\u7edf\u65e5\u671f"},{name:"LOGIN_USER_ID",desc:"\u5f53\u524d\u7528\u6237ID"},{name:"LOGIN_DEPT_ID",desc:"\u5f53\u524d\u90e8\u95e8ID"},{name:"LONG_DEPT_NAME",desc:"\u957f\u90e8\u95e8\u540d\u79f0"},{name:"LOGIN_OTHER_PRIV",desc:"\u5f53\u524d\u8f85\u52a9\u89d2\u8272"},{name:"CUR_GEOLOCATION",desc:"\u8fd4\u56de\u7528\u6237\u5f53\u524d\u6240\u5728\u7684\u5730\u7406\u4f4d\u7f6e\u3002"},{name:"LOGIN_UID",desc:"\u5f53\u524d\u7528\u6237UID"}],"\u5e38\u91cf":[{name:"TRUE",desc:"\u771f"},{name:"FALSE",desc:"\u5047"},{name:"NULL",desc:"\u7a7a"},{name:"#2007.1.28#",desc:"\u8fd4\u56de2007\u5e741\u670828\u65e5\u3002"},{name:"#1.28#",desc:"\u8fd4\u56de1\u670828\u65e5\u3002"},{name:'"\u5f20\u4e09"',desc:"\u8fd4\u56de\u5b57\u7b26\u5e38\u91cf\u5f20\u4e09"}],"\u7b97\u672f\u8fd0\u7b97\u7b26":[{name:"+",desc:"\u52a0"},{name:"-",desc:"\u51cf"},{name:"*",desc:"\u4e58"},{name:"/",desc:"\u9664"},{name:"DIV",desc:"\u6574\u9664"},{name:"MOD",desc:"\u53d6\u4f59"}],"\u5173\u7cfb\u8fd0\u7b97\u7b26":[{name:"=",desc:"\u76f8\u7b49\u6bd4\u8f83\u7b26"},{name:"<>",desc:"\u4e0d\u7b49\u6bd4\u8f83\u7b26"},{name:"<",desc:"\u5c0f\u4e8e\u6bd4\u8f83\u7b26"},{name:">",desc:"\u5927\u4e8e\u6bd4\u8f83\u7b26"},{name:"<=",desc:"\u5c0f\u4e8e\u7b49\u4e8e\u6bd4\u8f83\u7b26"},{name:">=",desc:"\u5927\u4e8e\u7b49\u4e8e\u6bd4\u8f83\u7b26"},{name:"LIKE(<\u8868\u8fbe\u5f0f>)",desc:"\u5305\u542b\u6bd4\u8f83\u7b26"},{name:"LLIKE(<\u8868\u8fbe\u5f0f>)",desc:"\u5de6\u5305\u542b\u6bd4\u8f83\u7b26"},{name:"RLIKE(<\u8868\u8fbe\u5f0f>)",desc:"\u53f3\u5305\u542b\u6bd4\u8f83\u7b26"},{name:"IN(<\u96c6\u5408\u8868\u8fbe\u5f0f>)",desc:"\u5c5e\u4e8e\u6bd4\u8f83\u7b26"},{name:"BETWEEN(<\u8868\u8fbe\u5f0f1>,<\u8868\u8fbe\u5f0f2>)",desc:"\u4ecb\u4e8e\u4e24\u503c\u4e4b\u95f4\u6bd4\u8f83\u7b26"},{name:"ISNOTNULL",desc:"\u6709\u503c\u6bd4\u8f83\u7b26"},{name:"ISNULL",desc:"\u65e0\u503c\u6bd4\u8f83\u7b26"}],"\u903b\u8f91\u8fd0\u7b97\u7b26":[{name:"&&",desc:"\u4e0e"},{name:"||",desc:"\u6216"},{name:"!",desc:"\u975e"}],"\u5176\u4ed6":[{name:"()",desc:"\u62ec\u53f7"},{name:"//",desc:"\u6ce8\u91ca\u7b26"},{name:",",desc:"\u9017\u53f7\u5206\u9694\u7b26"}]},y=A.a.Panel,F=function(e){function t(){return Object(o.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"handleChange",value:function(e){}},{key:"render",value:function(){var e=this;return f.a.createElement("div",{className:"formula-modal-funclist-wrap"},f.a.createElement("h3",{className:"formula-modal-funclist-title"},"\u51fd\u6570\u5217\u8868"),f.a.createElement("div",{className:"formula-panel-collapse-wrap thin-scroll"},f.a.createElement(A.a,{defaultActiveKey:["0"],onChange:this.handleChange.bind(this),className:"formula-panel-collapse"},Object.keys(L).map(function(t,a){return f.a.createElement(y,{header:t,key:a,className:"formula-panel-collapse-titles"},f.a.createElement("ul",null,L[t].map(function(t,a){return f.a.createElement(R.a,{title:t.name},f.a.createElement("li",{className:"formula-panel-collapse-items",key:a,onClick:function(){return e.props.setFuncDesc(t.desc)},onDoubleClick:function(){return e.props.changeFormulaData(t.name)}},t.name))})))}))),f.a.createElement("div",{className:"formula-panel-function-tips thin-scroll"},f.a.createElement("div",{className:"formula-panel-tips-content"},f.a.createElement("span",{className:"formula-panel-tips-title"},"\u8bf4\u660e\uff1a"),f.a.createElement("span",{className:"formula-panel-tip"},this.props.funcDesc))))}}]),t}(h.Component),C=function(e){function t(){return Object(o.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this;return f.a.createElement("ul",null,k.map(function(t,a){return f.a.createElement(R.a,{title:t.title,key:a},f.a.createElement("li",{className:"formula-oprator-items",onClick:function(){return e.props.changeFormulaData(t.sign)}},t.sign))}))}}]),t}(h.Component),U=function(e){function t(e){var a;Object(o.a)(this,t);var n=(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).props.formulaData.value||"",s=n.length;return a.state={visible:!0,funcDesc:"",formulaValue:n,editingBoard:null,initialCursorIndex:s,okLoading:!1,validateLoading:!1},a}return Object(E.a)(t,e),Object(m.a)(t,[{key:"setEditingBoard",value:function(e){this.setState({editingBoard:e})}},{key:"setFormula",value:function(e){this.setState({formulaValue:e})}},{key:"changeFormulaData",value:function(e){var t=this.state.editingBoard;return t.selectionStart!==t.selectionEnd?(this.replaceFormulaData(t.selectionStart,t.selectionEnd,e),void(this.state.initialCursorIndex=-1)):t.selectionStart===t.value.length||-1!==this.state.initialCursorIndex?(this.appendFormulaData(e),void(this.state.initialCursorIndex=-1)):(this.insertFormulaData(t.selectionStart,e),void(this.state.initialCursorIndex=-1))}},{key:"appendFormulaData",value:function(e){this.setState(function(t){return{formulaValue:t.formulaValue+e}}),this.state.editingBoard.focus()}},{key:"insertFormulaData",value:function(e,t){var a=this;this.setState(function(a){return{formulaValue:a.formulaValue.slice(0,e)+t+a.formulaValue.slice(e)}}),this.state.editingBoard.focus(),setTimeout(function(){a.state.editingBoard.setSelectionRange(Number(e+t.length),Number(e+t.length))},0)}},{key:"replaceFormulaData",value:function(e,t,a){var n=this;this.setState(function(n){return{formulaValue:n.formulaValue.slice(0,e)+a+n.formulaValue.slice(t)}}),this.state.editingBoard.focus(),setTimeout(function(){n.state.editingBoard.setSelectionRange(Number(e+a.length),Number(e+a.length))},0)}},{key:"setFuncDesc",value:function(e){this.setState({funcDesc:e})}},{key:"showModal",value:function(){this.setState({visible:!0})}},{key:"handleOk",value:function(){var e=this,t=this;this.setState({okLoading:!0}),setTimeout(function(){!0===e.state.okLoading&&(e.setState({okLoading:!1}),r.a.error("\u9a8c\u8bc1\u5931\u8d25"))},5e3),this.validate({onSuccess:function(e){t.props.formulaData.receiver(t.state.formulaValue,e),t.props.formulaData.cancel()},onFail:function(e){c.a.error({message:"\u9a8c\u8bc1\u5931\u8d25",description:e,duration:5})}})}},{key:"handleValidation",value:function(){var e=this;this.setState({validateLoading:!0}),setTimeout(function(){!0===e.state.validateLoading&&(e.setState({validateLoading:!1}),r.a.error("\u9a8c\u8bc1\u5931\u8d25"))},5e3),this.validate({onSuccess:function(){r.a.success("\u9a8c\u8bc1\u901a\u8fc7")},onFail:function(e){c.a.error({message:"\u9a8c\u8bc1\u5931\u8d25",description:e,duration:null})}})}},{key:"validate",value:function(e){var t=this;g.a.post("/general/appbuilder/web/appdesign/appform/checkfunc",{formId:this.props.formulaData.formId,logic:this.props.formulaData.logic||!1,expr:this.state.formulaValue},function(a){if(t.setState({validateLoading:!1,okLoading:!1}),"ok"===a.status)if(!1===a.data.result)e.onFail&&e.onFail(a.data.info);else{var n=a.data.expr?a.data.expr:"";e.onSuccess&&e.onSuccess(n)}})}},{key:"handleCancel",value:function(e){this.props.formulaData.cancel()}},{key:"render",value:function(){return f.a.createElement("div",null,f.a.createElement(n.a,{title:"\u7f16\u8f91\u516c\u5f0f",width:1100,bodyStyle:{width:1100,height:480,overflow:"auto"},style:{top:4},className:"formula-edit-modal thin-scroll",visible:this.state.visible,onOk:this.handleOk.bind(this),onCancel:this.handleCancel.bind(this),footer:[f.a.createElement(l.a,{key:"back",type:"ghost",size:"large",onClick:this.handleCancel.bind(this)},"\u53d6 \u6d88"),f.a.createElement(l.a,{key:"test",type:"ghost",size:"large",loading:this.state.validateLoading,onClick:this.handleValidation.bind(this)},"\u9a8c \u8bc1"),f.a.createElement(l.a,{key:"submit",type:"primary",size:"large",loading:this.state.okLoading,onClick:this.handleOk.bind(this)},"\u63d0 \u4ea4")]},f.a.createElement(s.a,null,f.a.createElement(i.a,{span:"4"},f.a.createElement(v,{formulaData:this.props.formulaData,changeFormulaData:this.changeFormulaData.bind(this)})),f.a.createElement(i.a,{span:"14",className:"formula-modal-edit-wrap"},f.a.createElement(S,{value:this.state.formulaValue,setEditingBoard:this.setEditingBoard.bind(this),setFormula:this.setFormula.bind(this)}),f.a.createElement(C,{changeFormulaData:this.changeFormulaData.bind(this)})),f.a.createElement(i.a,{span:"6"},f.a.createElement(F,{funcDesc:this.state.funcDesc,setFuncDesc:this.setFuncDesc.bind(this),changeFormulaData:this.changeFormulaData.bind(this)})))))}}]),t}(h.Component);t.a=U},627:function(e,t,a){}}]);
//# sourceMappingURL=1.df38c779.chunk.js.map