version: '3'

services:
  tdmysql:
    image: mysql:5.6.35
    command: --lower_case_table_names=1
    volumes:
      - ./db:/docker-entrypoint-initdb.d
    environment:
      MYSQL_ROOT_PASSWORD: toor
  tdredis:
    image: redis:latest
    command: redis-server --requirepass 123456
  web:
    image: tdoa:11.6
    volumes:
      - ./php.ini:/usr/local/etc/php/php.ini
      - ./oa_config.php:/var/www/html/inc/oa_config.php
    depends_on:
      - tdmysql
      - tdredis
    ports:
      - "80:80"
